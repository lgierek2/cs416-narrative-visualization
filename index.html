<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Narrative Visualization</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .bar {
            fill: steelblue;
        }
        .axis--x path,
        .axis--x line {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Narrative Visualization Project</h1>
    <div id="visualization"></div>
    <button id="nextButton">Next Scene</button>

    <script>
        let currentScene = 0;

        const scenes = [
            () => {
                d3.select("#visualization").html(""); 
                const data = [30, 80, 45, 60, 20, 90, 100];

                const svg = d3.select("#visualization").append("svg")
                    .attr("width", 400)
                    .attr("height", 200);

                const x = d3.scaleBand()
                    .domain(data.map((d, i) => i))
                    .range([0, 400])
                    .padding(0.1);

                const y = d3.scaleLinear()
                    .domain([0, d3.max(data)])
                    .range([200, 0]);

                svg.selectAll(".bar")
                    .data(data)
                    .enter().append("rect")
                    .attr("class", "bar")
                    .attr("x", (d, i) => x(i))
                    .attr("y", d => y(d))
                    .attr("width", x.bandwidth())
                    .attr("height", d => 200 - y(d));
            },
            () => {
                d3.select("#visualization").html(""); 
                const data = [50, 20, 100, 40, 60];

                const svg = d3.select("#visualization").append("svg")
                    .attr("width", 400)
                    .attr("height", 200);

                const x = d3.scaleBand()
                    .domain(data.map((d, i) => i))
                    .range([0, 400])
                    .padding(0.1);

                const y = d3.scaleLinear()
                    .domain([0, d3.max(data)])
                    .range([200, 0]);

                svg.selectAll(".bar")
                    .data(data)
                    .enter().append("rect")
                    .attr("class", "bar")
                    .attr("x", (d, i) => x(i))
                    .attr("y", d => y(d))
                    .attr("width", x.bandwidth())
                    .attr("height", d => 200 - y(d));
            }
        ];

        const updateScene = () => {
            if (currentScene < scenes.length) {
                scenes[currentScene]();
                currentScene++;
            }
        };

        document.getElementById("nextButton").addEventListener("click", updateScene);
    </script>
</body>
</html>
